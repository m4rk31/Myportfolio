<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>root@kali:~ Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel="stylesheet">
  <style>
    /* Reset y fondo */
    * { margin:0; padding:0; box-sizing:border-box }
    html, body { width:100%; height:100% }
    body {
      background:url('assets/images/fondo.png') center/cover no-repeat;
      image-rendering:pixelated;
      font-family:'Ubuntu Mono',monospace;
      overflow:hidden;
    }

    /* Terminal overlay */
    #terminal-overlay {
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,0.4);
      transition: opacity .6s ease-out;
      z-index:2;
    }
    #terminal-overlay.fade-out {
      opacity:0;
      pointer-events:none;
    }

    /* Ventana Kali */
    #terminal-window {
      width:800px; max-width:90%;
      background:rgba(0,0,0,0.6);
      border:2px solid #444;
      box-shadow:0 0 20px rgba(0,0,0,0.8);
    }
    .title-bar {
      height:32px; background:#222;
      display:flex; align-items:center; padding:0 12px;
      user-select:none;
    }
    .control { width:12px; height:12px; border-radius:50%; margin-right:8px }
    .red{background:#ff5f56} .yellow{background:#ffbd2e} .green{background:#27c93f}
    .title { color:#ccc; font-size:.9rem; margin-left:auto }

    /* Contenido terminal */
    #terminal-content {
      padding:1rem; height:360px; overflow-y:auto;
    }
    #terminal-output {
      color:#33ff33; white-space:pre-wrap;
      line-height:1.4; font-size:1rem;
    }
    .cursor {
      display:inline-block; width:.6ch; background:#33ff33;
      animation:blink 1s steps(1) infinite;
      vertical-align:bottom; margin-left:2px;
    }
    @keyframes blink { 0%,50%{opacity:1}50.1%,100%{opacity:0} }

    /* Iframe inicialmente oculto */
    #portfolio-frame {
      position:fixed; top:0; left:0;
      width:100%; height:100%;
      border:none;
      opacity:0;
      transition: opacity .8s ease-out;
      z-index:1;
    }
    #portfolio-frame.show {
      opacity:1;
    }
  </style>
</head>
<body>
  <!-- Overlay de la terminal -->
  <div id="terminal-overlay">
    <div id="terminal-window">
      <div class="title-bar">
        <span class="control red"></span>
        <span class="control yellow"></span>
        <span class="control green"></span>
        <span class="title">root@kali:~</span>
      </div>
      <div id="terminal-content">
        <pre id="terminal-output"></pre>
      </div>
    </div>
  </div>

  <!-- Iframe con tu Home real -->
  <iframe id="portfolio-frame" src="index1.html"></iframe>

  <script>
    const lines = [
      "root@kali:~# ls",
      "Home.html  AboutMe.html  MyWork.html  Contact.html  Portfolio.pdf",
      "root@kali:~# echo \"Diego Marcos â€” Cybersecurity enthusiast\"",
      "Diego Marcos â€” Cybersecurity enthusiast ðŸª„",
      "root@kali:~# cat Portfolio.pdf",
      "ðŸ“„ Abriendo Portfolio.pdfâ€¦ listo.",
      "root@kali:~#",
      "# Pulsa cualquier tecla o toca para ir al Home âš¡"
    ];
    const out     = document.getElementById("terminal-output");
    const overlay = document.getElementById("terminal-overlay");
    const frame   = document.getElementById("portfolio-frame");
    let ln = 0, ch = 0;

    function newLine(){
      const div = document.createElement("div");
      const cursor = document.createElement("span");
      cursor.className = "cursor";
      div.appendChild(cursor);
      out.appendChild(div);
    }

    function typeChar(){
      if(ln >= lines.length){
        document.addEventListener("keydown", finish, { once:true });
        document.addEventListener("touchstart", finish, { once:true });
        return;
      }
      if(!out.children[ln]) newLine();
      const lineEl = out.children[ln], text = lines[ln];
      if(ch < text.length){
        const cursor = lineEl.querySelector(".cursor");
        lineEl.insertBefore(document.createTextNode(text[ch]), cursor);
        ch++;
        setTimeout(typeChar, 30 + Math.random()*20);
      } else {
        ch = 0; ln++;
        setTimeout(typeChar, 200);
      }
    }

    function finish(){
      overlay.classList.add("fade-out");
      setTimeout(()=>{
        frame.classList.add("show");
      }, 600);
    }

    window.addEventListener("load", ()=> setTimeout(typeChar, 500));
  </script>
</body>
</html>
